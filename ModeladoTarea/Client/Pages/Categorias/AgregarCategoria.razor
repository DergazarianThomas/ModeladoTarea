@page "/Categorias/Agregar"
@inject NavigationManager navigationManager
@inject IHttpServicio http

<body>
    <h3>AgregarProducto</h3>

    <FormCategoria categoria="categoria" onValidSubmit="grabar" onCancel="cancelar">


    </FormCategoria>


</body>


@code {
    private Categoria categoria = new();

    private async void grabar()
    {
        CategoriaDTO categoriaDTO = new()
        {
            categoria = categoria.categoria

        };
        var httpRespuesta = await http.Post<CategoriaDTO>("api/Categoria", categoriaDTO);


        if (httpRespuesta.Error)
        {
            var body = httpRespuesta.HttpResponseMessage;
        }

        navigationManager.NavigateTo("/Categorias");
    }

    private async void cancelar()
    {
        navigationManager.NavigateTo("/Categorias");
    }

}